language: node_js
sudo: false
node_js:
- 6.10.2
addons:
  apt:
    postgresql: '9.6'
services:
- postgresql
before_script:
- createuser --createdb --login aapod_user
- createdb --owner aapod_user aapod_local
- yarn run db:migrate
script:
- yarn test
after_script:
- yarn run enforce
env:
  global:
  - secure: LDjULhp/PLzeXh3/1fFhz0RGsRlJHp04ANcehNW7cFkxeYmYp7dRLtmMati/xqSyNrDCeVhmAdL3p/NYUzBYoddXb8KDNTyMltGxAFikkeNnxp5Jf6Pwik4Tf9t4GZU5uvPOSb/YuxF06xz8TmV9qPUIQTBiiwcdeDSCEPU4XQJjgJXM/t09YKdttHKAQhiCXyHXy0crfxVgRCSkQgbw/gsk6Ua/SHGDz5HggSnNfH3NLhz3eaPYJsfP26HQd90MpkrHwdsy70Rp0kTcJICU1S50c/CaMPOcPriFgubP+yNVR/RniVITBX/L/rt7qSlGSa/ZlWq32CxuPhqlwInMxXHzwOSg2u6eCDjlhoNzOGtCviYcCQrP9SNHIe3i92AjEeOfc3Uneq4i9P+YRIQGQlU0OFsiiYzfTT0yOzAi3kMMXlrQH2J51XRgMv4esNmDzSN5JCRUVC/Iwbz5la0/eTwXswANkVwq6D0RIspIxi6reRWu96p/goM6t1bpYZsoTUtlK6nG7n0GNxypEvIzZJSoKRAe9KMZ8xh6M6LdHeN8+bMb8qPwC0jqxXlhKQmpGQzKzTBYL3fmbsf68LxXw4wqqzS1Jla1P/Qcht0ZwqOYeynaXMpcjIrW+F8diaC2DZGODtDZT+J9j1SaMd0cVe7KtavlTkEAATH+3PrJqLQ=
  - secure: fQrOw9h+JNgwSHqba7AHX9cLNJj75rhQ5Tcn02u/I2ac1irClOEUwpLj0Syv678FgJ4duegTQwQcb5kaI6LgxrmfOp1wF+tFPJBoP+V4eW3t90ptr4BgKCYHAW2qqBgNTgz6mOoUtg7t4fDsZobbJQ65VFu4RJfxVcvRlLi3hLDBPAOUVgn9o37sQ3msP8/En4ukrHdaOz7ToaXO2ukXS0pej97mdibA1a7pzV5uysNQYaJqtex6eoMF7Bm/FZn1PD+Vpz3EYFIBbAuHxf4eyaU18sX7MTN5hK/B0QJtz9ksoIDXoNC52zMDNKxsWQvxkpBjuEoQinpbJx2xsnah1XEp5p6CIJGtLb6q352YgZ5yWvd1JrMXdROool5mCsrL5RAGxToWJ4yHqEN7ySRF02IhecjNugWZi5xqhosxt2hpQ4ZxtTlURzOUaDhoIZ/0aegmWbuy/7wQOC3PEZLkwBEfb5T43cDc9gKag1IQK1p62UX/d6EskHvfR1rDlHn2G9iTRnqJ+hA2HkKImc2NOkvuGf71y436ZXq+Cfk8pZ53VbODpfSA+SS8ZpcEF4uoyZr+2ETKyzqXGZ4NFLFwGsg4IHVkIDVFaZEg+22XyRi0Kg4HKWb0x6t3w05/nq5hrPeLQKnPZ5/qq9x1n9Ii92ZukOzdx9ekCn3bkRkvzyk=
  - secure: lkEl8Xbt9prWxKjOw57+XWHQNFyJjTGt3BBwQDMTupnV9A/JK7nsfnFxCyEhRK1c0SxRwBVhjm1kzFGPaY+pJ+4vBvBW1+nIFYgc1s2MrXT2yDoL4wb6LUOOFiGWCORyTkIXQB65GnLN4FmcR96kRfH8NZB59IYJ85MmdGxqToN70mGHrvjYSOyIQ+HzexVguOnKgswq9LHyDV6klEt5HPQSkwuVl1Hj+heCHJHwF5uYVE+x3FUa3NXcRp5IBIDwtt0nLB0BChruT76hnfLKSJIPezxPmRggFXXsSlemjp9heHFKqjO0URS9bphTGAcCRX+lejm7mcH6mihXV60MUtNyDLPXrkqOPXaCLyIId6MFHK0VY8l6HX9T652AiPDyAkamXeuO3mRrYSvJnPcHWsba1rO2xrOzAkgFzxUMSmGu8ebBoURhygFVwKpsLfYDK58Ps/7pJ+a5IppRaEFxberSjnUCBNSS31BqmqgvvU939S1BaqZlxBtZAguGa6fW6MuLbrtLDKp3AaUyrK6sV/LW3T6P8sAYYhTKlRtQAXMqIuQjTIqg+VcaeQoBmZhA5LzjZx4XDj2H3HGdI7d2EJqR2V3Rt9Y0C1KlWHhPNZgW9eet7xOmE+Blo/n+u8npquRWsHz9xCLNLUIdG5FFcz5nhLS5ZbJ383jfh4SuzNg=
  - secure: iUN297uRlZluixgMl8ISaJWMEpo4WZNK3p6D6RHxS2oXhzrGPnqgzJAXRrcuUyJle0CCZoEXD/JjmCCTHYjNN2iYcHVV+JrM09cYUJ0s4m8uEAnqHZUkfr4/Gwxs5nnBrRhyJuKsoWrKNp0EY94mfUhCYqNJUQ4PzPZSBi/aRyXAbceSRDilhHB2PgcGjzH0YtrFsfWDwqlvwpWn4NqkKPEf+3UgU0B2FYN2s5UEr8XpyU3BzixzzOr/UX4TulNZ3cgGmF6TOSRn1b3Aj5KChD8ds/mef2hn5zetcNo8sVco0PfAsHLIZE1fDZpn9b1wZ167tlcuncVLZLA9RH5xxBjfuX5ju1/w0GFicvqopF3LiWz+dETf/j3hzcYOmSMcHWS2fAT7YQR2QKJtjAmAcbYvJgdZEFKF2kkggOYPsSwWe0unCnl9axh2hS6TJl3AYhkgMrhoIXco+0cNd8/C63Foje5gCeCTZNfrt4c8FQaIU+VtWjPkvrXnsiRP8v0+mPMqrKtbHdPnxc2VV3GaUa6/hYsJvyMjsEjVItYHOcKRkxH8wGniFCf4UlF4BgyjlDxLVfhx1SkiArEK8kMmCuquedZG3Z1ixBtbTZAl9CUhJTkTDUDV97Ukcc3Mhkg1nm7uubCfLrKePwADk6g5iPny8651/e7eXk3IJsnXKjk=
